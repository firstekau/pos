(function(e){function t(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=(new RegExp("[\\?&]"+e+"=([^&#]*)")).exec(location.href);return t==null?null:decodeURIComponent(t[1])}webswingRequirejs.require.config({baseUrl:"javascript",map:{"*":{jquery:"jquery-private"},"jquery-private":{jquery:"jquery"}}});try{var n=localStorage.getItem("webswingLang")}catch(r){console.log(r)}var i=n||navigator.browserLanguage||navigator.language;webswingRequirejs.require({locale:i},["jquery","webswing-util","webswing-translate"],function(e,n,r){function c(t,n){u=n.getResponseHeader("webswingUsername"),e.ajax({xhrFields:{withCredentials:!0},type:"GET",url:"apps",success:function(e,t,n){h(function(t){p(JSON.parse(e),t)})},error:function(e){failCallback!=null&&failCallback()}})}function h(t){e.ajax({xhrFields:{withCredentials:!0},type:"GET",url:"rest/permissions",success:function(e,n,r){t(e&&JSON.parse(e).dashboard)},error:function(e){t(!1)}})}function p(t,r){var i='<h1 class="ws-selector-title">${selector.welcome} <span>'+u+"</span>${selector.message}</h1>",o=(r?'${selector.lang}  <a href="admin" id="admin">${selector.admin}</a> | ':"")+'<a href="logout" id="logout">${selector.logout}</a>',a;e("#commonDialog").addClass("ws-selector");if(t==null||t.length===0)i=null,a="<p>${selector.noApp}</p>";else{a='<div class="ws-selector-container">';for(var f in t){var l=t[f];a+='<div class="ws-selector-btn"><div onclick="window.location.href = \''+l.url+'\';"><img src="'+n.getImageString(l.base64Icon)+'" class="ws-selector-btn-thumb"/><div class="ws-selector-btn-label">'+l.name+"</div></div></div>"}a+="</div>"}e("#webswing-header").html(s(i)),e("#webswing-links").html(s(o)),e("#webswing-content").html(s(a))}var i=new r;i.ready();var s=i.provides.translate;if(!n.checkCookie()){e("#webswing-content").html(s("${dialog.cookiesDisabledDialog}"));return}var o=n.webswingLogin,u,a={securityToken:t("token"),realm:t("realm")},f=window.location.href,l=f.substring(0,Math.min(f.indexOf("#"),f.indexOf("?")));o(l,e("#webswing-content"),a,c)},function(e){var t=e.requireModules&&e.requireModules[0];throw console.error(e),Error("Error while starting webswing in module '"+t+"'. Reason: "+e)})})(this);