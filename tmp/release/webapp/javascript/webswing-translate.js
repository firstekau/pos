webswingRequirejs.define(["optional-i18n!nls/msg","optional-i18n!nls/select"],function(t,n){return function(){function s(){try{var e=localStorage.getItem("webswingLang")}catch(t){console.log(t)}var n=e||navigator.browserLanguage||navigator.language;return n}function o(e){var n=e;return u(n,t)}function u(e,t){if(e!=null&&e.indexOf("${")>-1)for(var n=0;n<3;n++){var r=e;for(var i in t)r=f(r,"${"+i+"}",t[i]);if(r===e)return r;e=r}else if(e!=null&&t[e.trim()]!=null)return t[e];return e}function a(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}function f(e,t,n){return e.replace(new RegExp(a(t),"g"),n)}var r=this,i;r.injects=i={},r.provides={translate:o,getLocale:s},r.ready=function(){if(n!=null&&Object.keys(n).length>1){var e=s(),r="localStorage.setItem('webswingLang',this.options.item(this.selectedIndex).value);location.reload();",i='<select class="webswing-lang-selector" onchange="'+r+'">';for(var o in n){var u=e==o?"selected":"";i+="<option "+u+' value="'+o+'">'+n[o]+"</option>"}i+="</select>",t["selector.lang"]="${selector.lang.label}"+i}else t["selector.lang"]=""}}});